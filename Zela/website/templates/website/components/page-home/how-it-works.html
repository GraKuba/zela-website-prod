{% load static %}
<!-- How It Works Section -->
<section
  class="py-24 bg-background max-w-[1280px] mx-auto relative z-10"
  id="how-it-works"
>
  <div class="max-w-7xl mx-auto px-6">
    <!-- Row 1: Title + Steps 01-02 -->
    <div class="flex flex-col lg:flex-row gap-8 items-start mb-16">
      <!-- Title Section -->
      <div class="w-full lg:w-2/5" data-aos="fade-right">
        <p
          class="text-sm font-semibold text-secondary uppercase tracking-wider mb-2 text-center"
        >
          COMO FUNCIONA
        </p>
        <h2
          class="text-6xl font-bold text-primary mb-6 leading-tight text-center"
        >
          Obtenha um espaço mais limpo em quatro passos
        </h2>
      </div>

      <!-- Steps 01-02 -->
      <div class="w-full lg:w-3/5 flex flex-col md:flex-row gap-8">
        <!-- Step 01: Share Details -->
        <div
          class="flex-1 flex flex-col"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          <div class="flex items-start gap-4 mb-4">
            <span class="text-4xl font-bold text-foreground opacity-30"
              >01</span
            >
            <div>
              <h3 class="text-2xl font-bold text-foreground mb-2">
                PARTILHE DETALHES
              </h3>
              <p class="text-muted-foreground text-base leading-relaxed">
                Preencha um formulário rápido com detalhes sobre o seu espaço,
                horário e preferências.
              </p>
            </div>
          </div>
          <div class="rounded-xl overflow-hidden mt-auto">
            <img
              src="{% static 'how-it-works/hiw3.webp' %}"
              alt="Partilhe detalhes sobre as suas necessidades de limpeza"
              class="object-cover w-full h-72"
            />
          </div>
        </div>

        <!-- Step 02: Get Quote -->
        <div
          class="flex-1 flex flex-col"
          data-aos="fade-up"
          data-aos-delay="150"
        >
          <div class="flex items-start gap-4 mb-4">
            <span class="text-4xl font-bold text-foreground opacity-30"
              >02</span
            >
            <div>
              <h3 class="text-2xl font-bold text-foreground mb-2">
                OBTENHA ORÇAMENTO
              </h3>
              <p class="text-muted-foreground text-base leading-relaxed">
                Enviaremos uma estimativa personalizada, sem taxas ocultas, sem
                vendas agressivas.
              </p>
            </div>
          </div>
          <div class="rounded-xl overflow-hidden mt-auto">
            <img
              src="{% static 'how-it-works/hiw4.webp' %}"
              alt="Obtenha orçamento personalizado"
              class="object-cover w-full h-72"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Row 2: Steps 03-04 + CTA -->
    <div class="flex flex-col lg:flex-row gap-8 items-end">
      <!-- Steps 03-04 -->
      <div class="w-full lg:w-3/5 flex flex-col md:flex-row gap-8">
        <!-- Step 03: We Clean -->
        <div
          class="flex-1 flex flex-col"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <div class="flex items-start gap-4 mb-4">
            <span class="text-4xl font-bold text-foreground opacity-30"
              >03</span
            >
            <div>
              <h3 class="text-2xl font-bold text-foreground mb-2">
                NÓS LIMPAMOS
              </h3>
              <p class="text-muted-foreground text-base leading-relaxed">
                A nossa equipa chega a horas, equipada e pronta para limpar a
                fundo.
              </p>
            </div>
          </div>
          <div class="rounded-xl overflow-hidden mt-auto">
            <img
              src="{% static 'how-it-works/hiw2.webp' %}"
              alt="Equipa de limpeza profissional a trabalhar"
              class="object-cover w-full h-72"
            />
          </div>
        </div>

        <!-- Step 04: You Relax -->
        <div
          class="flex-1 flex flex-col"
          data-aos="fade-up"
          data-aos-delay="250"
        >
          <div class="flex items-start gap-4 mb-4">
            <span class="text-4xl font-bold text-foreground opacity-30"
              >04</span
            >
            <div>
              <h3 class="text-2xl font-bold text-foreground mb-2">
                VOCÊ RELAXA
              </h3>
              <p class="text-muted-foreground text-base leading-relaxed">
                Desfrute de uma casa ou espaço de trabalho impecável que parece,
                sente e cheira verdadeiramente limpo.
              </p>
            </div>
          </div>
          <div class="rounded-xl overflow-hidden mt-auto">
            <img
              src="{% static 'how-it-works/hiw1.webp' %}"
              alt="Relaxe no seu espaço limpo"
              class="object-cover w-full h-72"
            />
          </div>
        </div>
      </div>

      <!-- CTA Section -->
      <div
        class="w-full lg:w-2/5 flex items-end justify-end lg:justify-end"
        data-aos="fade-left"
        data-aos-delay="300"
      >
        <div class="text-center lg:text-right">
          <h4 class="text-2xl font-bold text-foreground mb-2">
            Pronto para Começar?
          </h4>
          <p class="text-muted-foreground mb-6 max-w-xs mx-auto lg:mx-0">
            Reserve o seu primeiro serviço em apenas alguns cliques
          </p>
          <a
            href="/pricing/"
            class="bg-secondary text-secondary-foreground px-6 py-2 rounded-full font-semibold hover:bg-secondary/90 transition-colors shadow-lg inline-block"
          >
            Ver Preços
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- AOS Animation Initialization -->
<script>
  // Initialize AOS if available, fallback gracefully
  document.addEventListener("DOMContentLoaded", function () {
    if (typeof AOS !== "undefined") {
      AOS.init({
        duration: 800,
        easing: "ease-in-out",
        once: true,
        offset: 100,
      });
    }
  });
</script>
