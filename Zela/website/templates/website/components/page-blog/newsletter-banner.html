{% load static %}

<!-- Newsletter Banner Section -->
<section class="bg-[#011E41] py-16 md:py-20 px-4">
  <div class="max-w-4xl mx-auto text-center">
    <div
      x-data="{ 
            email: '',
            showSuccess: false,
            subscribe() {
                if (this.email) {
                    this.showSuccess = true;
                    this.email = '';
                    setTimeout(() => {
                        this.showSuccess = false;
                    }, 5000);
                }
            }
        }"
    >
      <!-- Heading -->
      <h2
        class="text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6 leading-tight"
      >
        Get household tips & offers in your inbox.
      </h2>

      <!-- Email Form -->
      <div class="max-w-md mx-auto mb-6">
        <form
          @submit.prevent="subscribe()"
          class="flex flex-col sm:flex-row gap-4"
        >
          <input
            type="email"
            x-model="email"
            placeholder="Email address"
            required
            class="flex-1 px-6 py-4 rounded-full text-[#011E41] placeholder-[#4A5A70] bg-white focus:outline-none focus:ring-2 focus:ring-[#FDEA00] focus:border-transparent"
          />
          <button
            type="submit"
            class="px-8 py-4 bg-[#FDEA00] text-[#011E41] font-semibold rounded-full hover:bg-yellow-300 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-300 focus:ring-offset-2 focus:ring-offset-[#011E41]"
          >
            Subscribe
          </button>
        </form>
      </div>

      <!-- Privacy Note -->
      <p class="text-sm text-gray-300 mb-6">We respect your privacy.</p>

      <!-- Success Toast -->
      <div
        x-show="showSuccess"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform scale-90"
        x-transition:enter-end="opacity-100 transform scale-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100 transform scale-100"
        x-transition:leave-end="opacity-0 transform scale-90"
        class="fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center space-x-2"
      >
        <span class="text-xl">ðŸŽ‰</span>
        <span class="font-semibold"
          >Thank youâ€”check your inbox for a welcome message!</span
        >
        <button
          @click="showSuccess = false"
          class="ml-4 text-white hover:text-gray-200"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            ></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>
